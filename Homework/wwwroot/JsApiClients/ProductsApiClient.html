<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Product App</title>
</head>
<body>

    <div>
        <div>
            <a href="/">Back to home</a>
        </div>
        <h2>Products</h2>
        <table id="products" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Product Name</th>
                    <th scope="col">Supplier Name</th>
                    <th scope="col">Category Name</th>
                    <th scope="col">Quantity Per Unit</th>
                    <th scope="col">Unit Price</th>
                    <th scope="col">Units In Stock</th>
                    <th scope="col">Units On Order</th>
                    <th scope="col">Reorder Level</th>
                    <th scope="col">Discountinued</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

    <script src="../lib/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.min.css" />
    <script>
    var uri = '/api/products';

    $(document).ready(function () {
      $.getJSON(uri)
          .done(function (data) {
              let trHTML = '';
              $.each(data, function (key, item) {
                  trHTML += '<tr scope="row"><td>' + item.productId
                      + '</td><td>' + item.productName
                      + '</td><td>' + item.supplier.companyName
                      + '</td><td>' + item.category.categoryName
                      + '</td><td>' + item.quantityPerUnit
                      + '</td><td>' + item.unitPrice
                      + '</td><td>' + item.unitsInStock
                      + '</td><td>' + item.unitsOnOrder
                      + '</td><td>' + item.reorderLevel
                      + '</td><td> <input type="checkbox" ' + (item.discontinued ? "checked" : "") + '></td></tr > ';
            });
              $('#products').append(trHTML);
          });
    });
    </script>
</body>
</html>